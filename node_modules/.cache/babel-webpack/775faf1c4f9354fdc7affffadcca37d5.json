{"ast":null,"code":"import { HttpEventType, HttpResponse } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/serviceApi/file-update/file-upload.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction FileUploadComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.message);\n  }\n}\n\nfunction FileUploadComponent_ul_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 11);\n    i0.ɵɵelementStart(1, \"li\", 12);\n    i0.ɵɵelement(2, \"img\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r1.imagePath, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport class FileUploadComponent {\n  constructor(uploadService) {\n    this.uploadService = uploadService;\n    this.progress = 0;\n    this.message = '';\n  }\n\n  selectFile(event) {\n    if (event.target.files.length > 0) {\n      this.selectedFiles = event.target.files;\n      const file = event.target.files[0];\n      this.userFile = file;\n      var reader = new FileReader();\n      this.imagePath = file;\n      reader.readAsDataURL(file);\n\n      reader.onload = event => {\n        this.imagePath = reader.result;\n      };\n    }\n  }\n\n  ngOnInit() {\n    this.fileInfos = this.uploadService.getFiles();\n  }\n\n  upload() {\n    this.progress = 0;\n\n    if (this.selectedFiles) {\n      const file = this.selectedFiles.item(0);\n\n      if (file) {\n        this.currentFile = file;\n        this.uploadService.upload(this.currentFile).subscribe(event => {\n          console.log(file);\n\n          if (event.type === HttpEventType.UploadProgress) {\n            this.progress = Math.round(100 * event.loader / event.total);\n          } else if (event instanceof HttpResponse) {\n            this.message = event.body.message;\n            this.fileInfos = this.uploadService.getFiles();\n          }\n        }, err => {\n          console.log(err);\n          this.progress = 0;\n\n          if (err.error && err.error.message) {\n            this.message = err.error.message;\n          } else {\n            this.message = \"could not upload the file!\";\n          }\n\n          this.currentFile = undefined;\n        });\n      }\n\n      this.selectedFiles = undefined;\n    }\n  }\n\n}\n\nFileUploadComponent.ɵfac = function FileUploadComponent_Factory(t) {\n  return new (t || FileUploadComponent)(i0.ɵɵdirectiveInject(i1.FileUploadService));\n};\n\nFileUploadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FileUploadComponent,\n  selectors: [[\"app-file-upload\"]],\n  decls: 13,\n  vars: 5,\n  consts: [[1, \"col\"], [1, \"row\"], [1, \"btn\", \"btn-default\", \"p-0\"], [\"type\", \"file\", \"accept\", \"image/png, image/jpeg\", 2, \"font-size\", \".8em\", \"color\", \"#6c757d!important\", \"padding\", \"0px\", 3, \"change\"], [1, \"text-center\"], [1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"class\", \"alert alert-secondary\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"card\", \"mt-3\"], [1, \"card-header\"], [\"class\", \"list-group list-group-flush\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-secondary\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"], [\"alt\", \"\", 3, \"src\"]],\n  template: function FileUploadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"label\", 2);\n      i0.ɵɵelementStart(3, \"input\", 3);\n      i0.ɵɵlistener(\"change\", function FileUploadComponent_Template_input_change_3_listener($event) {\n        return ctx.selectFile($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function FileUploadComponent_Template_button_click_5_listener() {\n        return ctx.upload();\n      });\n      i0.ɵɵtext(6, \" Upload \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, FileUploadComponent_div_7_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"div\", 8);\n      i0.ɵɵtext(10, \"List of Files\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, FileUploadComponent_ul_11_Template, 3, 1, \"ul\", 9);\n      i0.ɵɵpipe(12, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", !ctx.selectedFiles);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.message);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(12, 3, ctx.fileInfos));\n    }\n  },\n  directives: [i2.NgIf, i2.NgForOf],\n  pipes: [i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmaWxlLXVwbG9hZC5jb21wb25lbnQuc2NzcyJ9 */\"]\n});","map":{"version":3,"sources":["D:/front-app-collecte-donnees/src/app/composants/file-upload/file-upload.component.ts"],"names":["HttpEventType","HttpResponse","i0","i1","i2","FileUploadComponent_div_7_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate","message","FileUploadComponent_ul_11_Template","ɵɵelement","ctx_r1","ɵɵproperty","imagePath","ɵɵsanitizeUrl","FileUploadComponent","constructor","uploadService","progress","selectFile","event","target","files","length","selectedFiles","file","userFile","reader","FileReader","readAsDataURL","onload","result","ngOnInit","fileInfos","getFiles","upload","item","currentFile","subscribe","console","log","type","UploadProgress","Math","round","loader","total","body","err","error","undefined","ɵfac","FileUploadComponent_Factory","t","ɵɵdirectiveInject","FileUploadService","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","FileUploadComponent_Template","ɵɵlistener","FileUploadComponent_Template_input_change_3_listener","$event","FileUploadComponent_Template_button_click_5_listener","ɵɵtemplate","ɵɵpipe","ɵɵpipeBind1","directives","NgIf","NgForOf","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { HttpEventType, HttpResponse } from \"@angular/common/http\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../services/serviceApi/file-update/file-upload.service\";\r\nimport * as i2 from \"@angular/common\";\r\nfunction FileUploadComponent_div_7_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 10);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(ctx_r0.message);\r\n} }\r\nfunction FileUploadComponent_ul_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"ul\", 11);\r\n    i0.ɵɵelementStart(1, \"li\", 12);\r\n    i0.ɵɵelement(2, \"img\", 13);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"src\", ctx_r1.imagePath, i0.ɵɵsanitizeUrl);\r\n} }\r\nexport class FileUploadComponent {\r\n    constructor(uploadService) {\r\n        this.uploadService = uploadService;\r\n        this.progress = 0;\r\n        this.message = '';\r\n    }\r\n    selectFile(event) {\r\n        if (event.target.files.length > 0) {\r\n            this.selectedFiles = event.target.files;\r\n            const file = event.target.files[0];\r\n            this.userFile = file;\r\n            var reader = new FileReader();\r\n            this.imagePath = file;\r\n            reader.readAsDataURL(file);\r\n            reader.onload = (event) => {\r\n                this.imagePath = reader.result;\r\n            };\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.fileInfos = this.uploadService.getFiles();\r\n    }\r\n    upload() {\r\n        this.progress = 0;\r\n        if (this.selectedFiles) {\r\n            const file = this.selectedFiles.item(0);\r\n            if (file) {\r\n                this.currentFile = file;\r\n                this.uploadService.upload(this.currentFile).subscribe((event) => {\r\n                    console.log(file);\r\n                    if (event.type === HttpEventType.UploadProgress) {\r\n                        this.progress = Math.round(100 * event.loader / event.total);\r\n                    }\r\n                    else if (event instanceof HttpResponse) {\r\n                        this.message = event.body.message;\r\n                        this.fileInfos = this.uploadService.getFiles();\r\n                    }\r\n                }, (err) => {\r\n                    console.log(err);\r\n                    this.progress = 0;\r\n                    if (err.error && err.error.message) {\r\n                        this.message = err.error.message;\r\n                    }\r\n                    else {\r\n                        this.message = \"could not upload the file!\";\r\n                    }\r\n                    this.currentFile = undefined;\r\n                });\r\n            }\r\n            this.selectedFiles = undefined;\r\n        }\r\n    }\r\n}\r\nFileUploadComponent.ɵfac = function FileUploadComponent_Factory(t) { return new (t || FileUploadComponent)(i0.ɵɵdirectiveInject(i1.FileUploadService)); };\r\nFileUploadComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: FileUploadComponent, selectors: [[\"app-file-upload\"]], decls: 13, vars: 5, consts: [[1, \"col\"], [1, \"row\"], [1, \"btn\", \"btn-default\", \"p-0\"], [\"type\", \"file\", \"accept\", \"image/png, image/jpeg\", 2, \"font-size\", \".8em\", \"color\", \"#6c757d!important\", \"padding\", \"0px\", 3, \"change\"], [1, \"text-center\"], [1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"class\", \"alert alert-secondary\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"card\", \"mt-3\"], [1, \"card-header\"], [\"class\", \"list-group list-group-flush\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-secondary\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"], [\"alt\", \"\", 3, \"src\"]], template: function FileUploadComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"label\", 2);\r\n        i0.ɵɵelementStart(3, \"input\", 3);\r\n        i0.ɵɵlistener(\"change\", function FileUploadComponent_Template_input_change_3_listener($event) { return ctx.selectFile($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 4);\r\n        i0.ɵɵelementStart(5, \"button\", 5);\r\n        i0.ɵɵlistener(\"click\", function FileUploadComponent_Template_button_click_5_listener() { return ctx.upload(); });\r\n        i0.ɵɵtext(6, \" Upload \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(7, FileUploadComponent_div_7_Template, 2, 1, \"div\", 6);\r\n        i0.ɵɵelementStart(8, \"div\", 7);\r\n        i0.ɵɵelementStart(9, \"div\", 8);\r\n        i0.ɵɵtext(10, \"List of Files\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(11, FileUploadComponent_ul_11_Template, 3, 1, \"ul\", 9);\r\n        i0.ɵɵpipe(12, \"async\");\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"disabled\", !ctx.selectedFiles);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.message);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(12, 3, ctx.fileInfos));\r\n    } }, directives: [i2.NgIf, i2.NgForOf], pipes: [i2.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmaWxlLXVwbG9hZC5jb21wb25lbnQuc2NzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}