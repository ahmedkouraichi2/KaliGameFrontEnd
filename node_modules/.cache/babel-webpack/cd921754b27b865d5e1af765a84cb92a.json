{"ast":null,"code":"import { User } from \"../../services/model/User\";\nimport { FormControl, FormGroup } from \"@angular/forms\";\nimport { HttpEventType, HttpResponse } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/token-storage.service\";\nimport * as i2 from \"../../services/serviceApi/user/user-service.service\";\nimport * as i3 from \"../../services/serviceApi/file-update/file-upload.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction PageProfilComponent_ul_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 27);\n    i0.ɵɵelementStart(1, \"li\", 28);\n    i0.ɵɵelementStart(2, \"a\", 29);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"img\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const file_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", file_r1.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(file_r1.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", file_r1.url, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport class PageProfilComponent {\n  constructor(token, userService, uploadService) {\n    this.token = token;\n    this.userService = userService;\n    this.uploadService = uploadService;\n    this.userUpdate = new User();\n    this.progress = 0;\n    this.message = '';\n  }\n\n  ngOnInit() {\n    this.initForm();\n    this.id = this.token.getUser().id;\n    console.log(this.token.getUser().id);\n    this.userService.consulterUser(this.id).subscribe(user => {\n      this.userUpdate = user;\n      console.log(this.userUpdate);\n    });\n    this.fileInfos = this.uploadService.getFiles();\n  }\n\n  initForm() {\n    this.profilForm = new FormGroup({\n      firstname: new FormControl(''),\n      lastname: new FormControl(''),\n      email: new FormControl('')\n    });\n  }\n\n  updateUser() {\n    this.userService.updateUser(this.userUpdate).subscribe(user => {\n      console.log(user);\n    }, error => {\n      alert(\"probléme lors de la modification !\");\n    });\n  }\n\n  selectFile(event) {\n    this.selectedFiles = event.target.files;\n  }\n\n  upload() {\n    this.progress = 0;\n\n    if (this.selectedFiles) {\n      const file = this.selectedFiles.item(0);\n\n      if (file) {\n        this.currentFile = file;\n        this.uploadService.upload(this.currentFile).subscribe(event => {\n          console.log(file);\n\n          if (event.type === HttpEventType.UploadProgress) {\n            this.progress = Math.round(100 * event.loader / event.total);\n          } else if (event instanceof HttpResponse) {\n            this.message = event.body.message;\n            this.fileInfos = this.uploadService.getFiles();\n          }\n        }, err => {\n          console.log(err);\n          this.progress = 0;\n\n          if (err.error && err.error.message) {\n            this.message = err.error.message;\n          } else {\n            this.message = \"could not upload the file!\";\n          }\n\n          this.currentFile = undefined;\n        });\n      }\n\n      this.selectedFiles = undefined;\n    }\n  }\n\n}\n\nPageProfilComponent.ɵfac = function PageProfilComponent_Factory(t) {\n  return new (t || PageProfilComponent)(i0.ɵɵdirectiveInject(i1.TokenStorageService), i0.ɵɵdirectiveInject(i2.UserServiceService), i0.ɵɵdirectiveInject(i3.FileUploadService));\n};\n\nPageProfilComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PageProfilComponent,\n  selectors: [[\"app-page-profil\"]],\n  decls: 39,\n  vars: 8,\n  consts: [[1, \"container-xl\", \"px-4\", \"mt-4\"], [1, \"row\"], [1, \"col-xl-4\"], [1, \"card\", \"mb-4\", \"mb-xl-0\"], [1, \"card-header\"], [1, \"card-body\", \"text-center\"], [\"class\", \"list-group list-group-flush\", 4, \"ngFor\", \"ngForOf\"], [1, \"small\", \"font-italic\", \"text-muted\", \"mb-4\"], [1, \"col\"], [1, \"btn\", \"btn-default\", \"p-0\"], [\"type\", \"file\", \"accept\", \"image/png, image/jpeg\", 2, \"font-size\", \".8em\", \"color\", \"#6c757d!important\", \"padding\", \"0px\", 3, \"change\"], [1, \"text-center\"], [1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"disabled\", \"click\"], [1, \"col-xl-8\"], [1, \"card\", \"mb-4\"], [1, \"card-body\"], [3, \"formGroup\"], [1, \"row\", \"gx-3\", \"mb-3\"], [1, \"col-md-6\"], [\"for\", \"inputFirstName\", 1, \"small\", \"mb-1\"], [\"id\", \"inputFirstName\", \"type\", \"text\", \"placeholder\", \"Entrer votre nom \", \"formControlName\", \"firstname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"inputLastName\", 1, \"small\", \"mb-1\"], [\"id\", \"inputLastName\", \"type\", \"text\", \"placeholder\", \"Enter your pr\\u00E9nom\", \"formControlName\", \"lastname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"mb-3\"], [\"for\", \"inputEmailAddress\", 1, \"small\", \"mb-1\"], [\"id\", \"inputEmailAddress\", \"type\", \"email\", \"placeholder\", \"Entrer votre email \", \"formControlName\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"], [3, \"href\"], [\"alt\", \"\", 1, \"img-account-profile\", \"rounded-circle\", \"mb-2\", 3, \"src\"]],\n  template: function PageProfilComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵtext(5, \"Photo de profil\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵtemplate(7, PageProfilComponent_ul_7_Template, 5, 3, \"ul\", 6);\n      i0.ɵɵpipe(8, \"async\");\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵtext(10, \"JPG ou PNG ne d\\u00E9passant pas 5 Mo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 8);\n      i0.ɵɵelementStart(12, \"div\", 1);\n      i0.ɵɵelementStart(13, \"label\", 9);\n      i0.ɵɵelementStart(14, \"input\", 10);\n      i0.ɵɵlistener(\"change\", function PageProfilComponent_Template_input_change_14_listener($event) {\n        return ctx.selectFile($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 11);\n      i0.ɵɵelementStart(16, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function PageProfilComponent_Template_button_click_16_listener() {\n        return ctx.upload();\n      });\n      i0.ɵɵtext(17, \" Upload \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 13);\n      i0.ɵɵelementStart(19, \"div\", 14);\n      i0.ɵɵelementStart(20, \"div\", 4);\n      i0.ɵɵtext(21, \"D\\u00E9tails compte\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 15);\n      i0.ɵɵelementStart(23, \"form\", 16);\n      i0.ɵɵelementStart(24, \"div\", 17);\n      i0.ɵɵelementStart(25, \"div\", 18);\n      i0.ɵɵelementStart(26, \"label\", 19);\n      i0.ɵɵtext(27, \"Nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function PageProfilComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.userUpdate.firstName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 18);\n      i0.ɵɵelementStart(30, \"label\", 21);\n      i0.ɵɵtext(31, \"Pr\\u00E9nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"input\", 22);\n      i0.ɵɵlistener(\"ngModelChange\", function PageProfilComponent_Template_input_ngModelChange_32_listener($event) {\n        return ctx.userUpdate.lastName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\", 23);\n      i0.ɵɵelementStart(34, \"label\", 24);\n      i0.ɵɵtext(35, \"Email \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"input\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function PageProfilComponent_Template_input_ngModelChange_36_listener($event) {\n        return ctx.userUpdate.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"button\", 26);\n      i0.ɵɵlistener(\"click\", function PageProfilComponent_Template_button_click_37_listener() {\n        return ctx.updateUser();\n      });\n      i0.ɵɵtext(38, \"Modifier\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(8, 6, ctx.fileInfos));\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"disabled\", !ctx.selectedFiles);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.profilForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.userUpdate.firstName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.userUpdate.lastName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.userUpdate.email);\n    }\n  },\n  directives: [i4.NgForOf, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.DefaultValueAccessor, i5.NgControlStatus, i5.FormControlName],\n  pipes: [i4.AsyncPipe],\n  styles: [\"body[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  background-color: #f2f6fc;\\n  color: #69707a;\\n}\\n\\n.img-account-profile[_ngcontent-%COMP%] {\\n  height: 10rem;\\n}\\n\\n.rounded-circle[_ngcontent-%COMP%] {\\n  border-radius: 50% !important;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  box-shadow: 0 0.15rem 1.75rem 0 rgba(33, 40, 50, 0.15);\\n}\\n\\n.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  font-family: Montserrat bold !important;\\n}\\n\\n.card-header[_ngcontent-%COMP%]:first-child {\\n  border-radius: 0.35rem 0.35rem 0 0;\\n}\\n\\n.card-header[_ngcontent-%COMP%] {\\n  padding: 1rem 1.35rem;\\n  margin-bottom: 0;\\n  background-color: #eaeef0;\\n  border-bottom: 1px solid rgba(33, 40, 50, 0.125);\\n}\\n\\n.form-control[_ngcontent-%COMP%], .dataTable-input[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  padding: 0.875rem 1.125rem;\\n  font-size: 0.875rem;\\n  font-weight: 400;\\n  line-height: 1;\\n  color: #69707a;\\n  background-color: #fff;\\n  background-clip: padding-box;\\n  border: 1px solid #c5ccd6;\\n  -webkit-appearance: none;\\n  appearance: none;\\n  border-radius: 0.35rem;\\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n}\\n\\n.nav-borders[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%] {\\n  color: #0061f2;\\n  border-bottom-color: #0061f2;\\n}\\n\\n.nav-borders[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] {\\n  color: #69707a;\\n  border-bottom-width: 0.125rem;\\n  border-bottom-style: solid;\\n  border-bottom-color: transparent;\\n  margin-left: 1rem;\\n  margin-right: 1rem;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  color: #fff;\\n  background-color: #728e9b;\\n  border-color: #728e9b;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2UtcHJvZmlsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQUssZ0JBQUE7RUFDSCx5QkFBQTtFQUNBLGNBQUE7QUFDRjs7QUFDQTtFQUNFLGFBQUE7QUFFRjs7QUFBQTtFQUNFLDZCQUFBO0FBR0Y7O0FBREE7RUFDRSxzREFBQTtBQUlGOztBQUZBO0VBQ0UsZ0JBQUE7RUFDQSx1Q0FBQTtBQUtGOztBQUhBO0VBQ0Usa0NBQUE7QUFNRjs7QUFKQTtFQUNFLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtFQUNBLGdEQUFBO0FBT0Y7O0FBTEE7RUFDRSxjQUFBO0VBQ0EsV0FBQTtFQUNBLDBCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxjQUFBO0VBQ0Esc0JBQUE7RUFDQSw0QkFBQTtFQUNBLHlCQUFBO0VBQ0Esd0JBQUE7RUFFQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0Esd0VBQUE7QUFRRjs7QUFMQTtFQUNFLGNBQUE7RUFDQSw0QkFBQTtBQVFGOztBQU5BO0VBQ0UsY0FBQTtFQUNBLDZCQUFBO0VBQ0EsMEJBQUE7RUFDQSxnQ0FBQTtFQUVBLGlCQUFBO0VBQ0Esa0JBQUE7QUFRRjs7QUFOQTtFQUNFLFdBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0FBU0YiLCJmaWxlIjoicGFnZS1wcm9maWwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuYm9keXttYXJnaW4tdG9wOjIwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjojZjJmNmZjO1xyXG4gIGNvbG9yOiM2OTcwN2E7XHJcbn1cclxuLmltZy1hY2NvdW50LXByb2ZpbGUge1xyXG4gIGhlaWdodDogMTByZW07XHJcbn1cclxuLnJvdW5kZWQtY2lyY2xlIHtcclxuICBib3JkZXItcmFkaXVzOiA1MCUgIWltcG9ydGFudDtcclxufVxyXG4uY2FyZCB7XHJcbiAgYm94LXNoYWRvdzogMCAwLjE1cmVtIDEuNzVyZW0gMCByZ2IoMzMgNDAgNTAgLyAxNSUpO1xyXG59XHJcbi5jYXJkIC5jYXJkLWhlYWRlciB7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBmb250LWZhbWlseTogTW9udHNlcnJhdCBib2xkICFpbXBvcnRhbnQ7XHJcbn1cclxuLmNhcmQtaGVhZGVyOmZpcnN0LWNoaWxkIHtcclxuICBib3JkZXItcmFkaXVzOiAwLjM1cmVtIDAuMzVyZW0gMCAwO1xyXG59XHJcbi5jYXJkLWhlYWRlciB7XHJcbiAgcGFkZGluZzogMXJlbSAxLjM1cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIzNCAyMzggMjQwKTtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgzMywgNDAsIDUwLCAwLjEyNSk7XHJcbn1cclxuLmZvcm0tY29udHJvbCwgLmRhdGFUYWJsZS1pbnB1dCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcGFkZGluZzogMC44NzVyZW0gMS4xMjVyZW07XHJcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuICBmb250LXdlaWdodDogNDAwO1xyXG4gIGxpbmUtaGVpZ2h0OiAxO1xyXG4gIGNvbG9yOiAjNjk3MDdhO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjYzVjY2Q2O1xyXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcclxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgYXBwZWFyYW5jZTogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiAwLjM1cmVtO1xyXG4gIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm94LXNoYWRvdyAwLjE1cyBlYXNlLWluLW91dDtcclxufVxyXG5cclxuLm5hdi1ib3JkZXJzIC5uYXYtbGluay5hY3RpdmUge1xyXG4gIGNvbG9yOiAjMDA2MWYyO1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICMwMDYxZjI7XHJcbn1cclxuLm5hdi1ib3JkZXJzIC5uYXYtbGluayB7XHJcbiAgY29sb3I6ICM2OTcwN2E7XHJcbiAgYm9yZGVyLWJvdHRvbS13aWR0aDogMC4xMjVyZW07XHJcbiAgYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcblxyXG4gIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG4gIG1hcmdpbi1yaWdodDogMXJlbTtcclxufVxyXG4uYnRuLXByaW1hcnkge1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM3MjhlOWI7XHJcbiAgYm9yZGVyLWNvbG9yOiAjNzI4ZTliO1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["D:/front-app-collecte-donnees/src/app/pages/page-profil/page-profil.component.ts"],"names":["User","FormControl","FormGroup","HttpEventType","HttpResponse","i0","i1","i2","i3","i4","i5","PageProfilComponent_ul_7_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","file_r1","$implicit","ɵɵadvance","ɵɵpropertyInterpolate","url","ɵɵsanitizeUrl","ɵɵtextInterpolate","name","PageProfilComponent","constructor","token","userService","uploadService","userUpdate","progress","message","ngOnInit","initForm","id","getUser","console","log","consulterUser","subscribe","user","fileInfos","getFiles","profilForm","firstname","lastname","email","updateUser","error","alert","selectFile","event","selectedFiles","target","files","upload","file","item","currentFile","type","UploadProgress","Math","round","loader","total","body","err","undefined","ɵfac","PageProfilComponent_Factory","t","ɵɵdirectiveInject","TokenStorageService","UserServiceService","FileUploadService","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","PageProfilComponent_Template","ɵɵtemplate","ɵɵpipe","ɵɵlistener","PageProfilComponent_Template_input_change_14_listener","$event","PageProfilComponent_Template_button_click_16_listener","PageProfilComponent_Template_input_ngModelChange_28_listener","firstName","PageProfilComponent_Template_input_ngModelChange_32_listener","lastName","PageProfilComponent_Template_input_ngModelChange_36_listener","PageProfilComponent_Template_button_click_37_listener","ɵɵproperty","ɵɵpipeBind1","directives","NgForOf","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","FormControlName","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { User } from \"../../services/model/User\";\r\nimport { FormControl, FormGroup } from \"@angular/forms\";\r\nimport { HttpEventType, HttpResponse } from \"@angular/common/http\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../services/token-storage.service\";\r\nimport * as i2 from \"../../services/serviceApi/user/user-service.service\";\r\nimport * as i3 from \"../../services/serviceApi/file-update/file-upload.service\";\r\nimport * as i4 from \"@angular/common\";\r\nimport * as i5 from \"@angular/forms\";\r\nfunction PageProfilComponent_ul_7_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"ul\", 27);\r\n    i0.ɵɵelementStart(1, \"li\", 28);\r\n    i0.ɵɵelementStart(2, \"a\", 29);\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(4, \"img\", 30);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const file_r1 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵpropertyInterpolate(\"href\", file_r1.url, i0.ɵɵsanitizeUrl);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(file_r1.name);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵpropertyInterpolate(\"src\", file_r1.url, i0.ɵɵsanitizeUrl);\r\n} }\r\nexport class PageProfilComponent {\r\n    constructor(token, userService, uploadService) {\r\n        this.token = token;\r\n        this.userService = userService;\r\n        this.uploadService = uploadService;\r\n        this.userUpdate = new User();\r\n        this.progress = 0;\r\n        this.message = '';\r\n    }\r\n    ngOnInit() {\r\n        this.initForm();\r\n        this.id = this.token.getUser().id;\r\n        console.log(this.token.getUser().id);\r\n        this.userService.consulterUser(this.id).\r\n            subscribe(user => {\r\n            this.userUpdate = user;\r\n            console.log(this.userUpdate);\r\n        });\r\n        this.fileInfos = this.uploadService.getFiles();\r\n    }\r\n    initForm() {\r\n        this.profilForm = new FormGroup({\r\n            firstname: new FormControl(''),\r\n            lastname: new FormControl(''),\r\n            email: new FormControl('')\r\n        });\r\n    }\r\n    updateUser() {\r\n        this.userService.updateUser(this.userUpdate).subscribe(user => {\r\n            console.log(user);\r\n        }, (error => { alert(\"probléme lors de la modification !\"); }));\r\n    }\r\n    selectFile(event) {\r\n        this.selectedFiles = event.target.files;\r\n    }\r\n    upload() {\r\n        this.progress = 0;\r\n        if (this.selectedFiles) {\r\n            const file = this.selectedFiles.item(0);\r\n            if (file) {\r\n                this.currentFile = file;\r\n                this.uploadService.upload(this.currentFile).subscribe((event) => {\r\n                    console.log(file);\r\n                    if (event.type === HttpEventType.UploadProgress) {\r\n                        this.progress = Math.round(100 * event.loader / event.total);\r\n                    }\r\n                    else if (event instanceof HttpResponse) {\r\n                        this.message = event.body.message;\r\n                        this.fileInfos = this.uploadService.getFiles();\r\n                    }\r\n                }, (err) => {\r\n                    console.log(err);\r\n                    this.progress = 0;\r\n                    if (err.error && err.error.message) {\r\n                        this.message = err.error.message;\r\n                    }\r\n                    else {\r\n                        this.message = \"could not upload the file!\";\r\n                    }\r\n                    this.currentFile = undefined;\r\n                });\r\n            }\r\n            this.selectedFiles = undefined;\r\n        }\r\n    }\r\n}\r\nPageProfilComponent.ɵfac = function PageProfilComponent_Factory(t) { return new (t || PageProfilComponent)(i0.ɵɵdirectiveInject(i1.TokenStorageService), i0.ɵɵdirectiveInject(i2.UserServiceService), i0.ɵɵdirectiveInject(i3.FileUploadService)); };\r\nPageProfilComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PageProfilComponent, selectors: [[\"app-page-profil\"]], decls: 39, vars: 8, consts: [[1, \"container-xl\", \"px-4\", \"mt-4\"], [1, \"row\"], [1, \"col-xl-4\"], [1, \"card\", \"mb-4\", \"mb-xl-0\"], [1, \"card-header\"], [1, \"card-body\", \"text-center\"], [\"class\", \"list-group list-group-flush\", 4, \"ngFor\", \"ngForOf\"], [1, \"small\", \"font-italic\", \"text-muted\", \"mb-4\"], [1, \"col\"], [1, \"btn\", \"btn-default\", \"p-0\"], [\"type\", \"file\", \"accept\", \"image/png, image/jpeg\", 2, \"font-size\", \".8em\", \"color\", \"#6c757d!important\", \"padding\", \"0px\", 3, \"change\"], [1, \"text-center\"], [1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"disabled\", \"click\"], [1, \"col-xl-8\"], [1, \"card\", \"mb-4\"], [1, \"card-body\"], [3, \"formGroup\"], [1, \"row\", \"gx-3\", \"mb-3\"], [1, \"col-md-6\"], [\"for\", \"inputFirstName\", 1, \"small\", \"mb-1\"], [\"id\", \"inputFirstName\", \"type\", \"text\", \"placeholder\", \"Entrer votre nom \", \"formControlName\", \"firstname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"inputLastName\", 1, \"small\", \"mb-1\"], [\"id\", \"inputLastName\", \"type\", \"text\", \"placeholder\", \"Enter your pr\\u00E9nom\", \"formControlName\", \"lastname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"mb-3\"], [\"for\", \"inputEmailAddress\", 1, \"small\", \"mb-1\"], [\"id\", \"inputEmailAddress\", \"type\", \"email\", \"placeholder\", \"Entrer votre email \", \"formControlName\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"], [3, \"href\"], [\"alt\", \"\", 1, \"img-account-profile\", \"rounded-circle\", \"mb-2\", 3, \"src\"]], template: function PageProfilComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"div\", 3);\r\n        i0.ɵɵelementStart(4, \"div\", 4);\r\n        i0.ɵɵtext(5, \"Photo de profil\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"div\", 5);\r\n        i0.ɵɵtemplate(7, PageProfilComponent_ul_7_Template, 5, 3, \"ul\", 6);\r\n        i0.ɵɵpipe(8, \"async\");\r\n        i0.ɵɵelementStart(9, \"div\", 7);\r\n        i0.ɵɵtext(10, \"JPG ou PNG ne d\\u00E9passant pas 5 Mo\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"div\", 8);\r\n        i0.ɵɵelementStart(12, \"div\", 1);\r\n        i0.ɵɵelementStart(13, \"label\", 9);\r\n        i0.ɵɵelementStart(14, \"input\", 10);\r\n        i0.ɵɵlistener(\"change\", function PageProfilComponent_Template_input_change_14_listener($event) { return ctx.selectFile($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"div\", 11);\r\n        i0.ɵɵelementStart(16, \"button\", 12);\r\n        i0.ɵɵlistener(\"click\", function PageProfilComponent_Template_button_click_16_listener() { return ctx.upload(); });\r\n        i0.ɵɵtext(17, \" Upload \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"div\", 13);\r\n        i0.ɵɵelementStart(19, \"div\", 14);\r\n        i0.ɵɵelementStart(20, \"div\", 4);\r\n        i0.ɵɵtext(21, \"D\\u00E9tails compte\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"div\", 15);\r\n        i0.ɵɵelementStart(23, \"form\", 16);\r\n        i0.ɵɵelementStart(24, \"div\", 17);\r\n        i0.ɵɵelementStart(25, \"div\", 18);\r\n        i0.ɵɵelementStart(26, \"label\", 19);\r\n        i0.ɵɵtext(27, \"Nom\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(28, \"input\", 20);\r\n        i0.ɵɵlistener(\"ngModelChange\", function PageProfilComponent_Template_input_ngModelChange_28_listener($event) { return ctx.userUpdate.firstName = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(29, \"div\", 18);\r\n        i0.ɵɵelementStart(30, \"label\", 21);\r\n        i0.ɵɵtext(31, \"Pr\\u00E9nom\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(32, \"input\", 22);\r\n        i0.ɵɵlistener(\"ngModelChange\", function PageProfilComponent_Template_input_ngModelChange_32_listener($event) { return ctx.userUpdate.lastName = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(33, \"div\", 23);\r\n        i0.ɵɵelementStart(34, \"label\", 24);\r\n        i0.ɵɵtext(35, \"Email \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(36, \"input\", 25);\r\n        i0.ɵɵlistener(\"ngModelChange\", function PageProfilComponent_Template_input_ngModelChange_36_listener($event) { return ctx.userUpdate.email = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(37, \"button\", 26);\r\n        i0.ɵɵlistener(\"click\", function PageProfilComponent_Template_button_click_37_listener() { return ctx.updateUser(); });\r\n        i0.ɵɵtext(38, \"Modifier\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(8, 6, ctx.fileInfos));\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"disabled\", !ctx.selectedFiles);\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.profilForm);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.userUpdate.firstName);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.userUpdate.lastName);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.userUpdate.email);\r\n    } }, directives: [i4.NgForOf, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.DefaultValueAccessor, i5.NgControlStatus, i5.FormControlName], pipes: [i4.AsyncPipe], styles: [\"body[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  background-color: #f2f6fc;\\n  color: #69707a;\\n}\\n\\n.img-account-profile[_ngcontent-%COMP%] {\\n  height: 10rem;\\n}\\n\\n.rounded-circle[_ngcontent-%COMP%] {\\n  border-radius: 50% !important;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  box-shadow: 0 0.15rem 1.75rem 0 rgba(33, 40, 50, 0.15);\\n}\\n\\n.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  font-family: Montserrat bold !important;\\n}\\n\\n.card-header[_ngcontent-%COMP%]:first-child {\\n  border-radius: 0.35rem 0.35rem 0 0;\\n}\\n\\n.card-header[_ngcontent-%COMP%] {\\n  padding: 1rem 1.35rem;\\n  margin-bottom: 0;\\n  background-color: #eaeef0;\\n  border-bottom: 1px solid rgba(33, 40, 50, 0.125);\\n}\\n\\n.form-control[_ngcontent-%COMP%], .dataTable-input[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  padding: 0.875rem 1.125rem;\\n  font-size: 0.875rem;\\n  font-weight: 400;\\n  line-height: 1;\\n  color: #69707a;\\n  background-color: #fff;\\n  background-clip: padding-box;\\n  border: 1px solid #c5ccd6;\\n  -webkit-appearance: none;\\n  appearance: none;\\n  border-radius: 0.35rem;\\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n}\\n\\n.nav-borders[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%] {\\n  color: #0061f2;\\n  border-bottom-color: #0061f2;\\n}\\n\\n.nav-borders[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] {\\n  color: #69707a;\\n  border-bottom-width: 0.125rem;\\n  border-bottom-style: solid;\\n  border-bottom-color: transparent;\\n  margin-left: 1rem;\\n  margin-right: 1rem;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  color: #fff;\\n  background-color: #728e9b;\\n  border-color: #728e9b;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2UtcHJvZmlsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQUssZ0JBQUE7RUFDSCx5QkFBQTtFQUNBLGNBQUE7QUFDRjs7QUFDQTtFQUNFLGFBQUE7QUFFRjs7QUFBQTtFQUNFLDZCQUFBO0FBR0Y7O0FBREE7RUFDRSxzREFBQTtBQUlGOztBQUZBO0VBQ0UsZ0JBQUE7RUFDQSx1Q0FBQTtBQUtGOztBQUhBO0VBQ0Usa0NBQUE7QUFNRjs7QUFKQTtFQUNFLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtFQUNBLGdEQUFBO0FBT0Y7O0FBTEE7RUFDRSxjQUFBO0VBQ0EsV0FBQTtFQUNBLDBCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxjQUFBO0VBQ0Esc0JBQUE7RUFDQSw0QkFBQTtFQUNBLHlCQUFBO0VBQ0Esd0JBQUE7RUFFQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0Esd0VBQUE7QUFRRjs7QUFMQTtFQUNFLGNBQUE7RUFDQSw0QkFBQTtBQVFGOztBQU5BO0VBQ0UsY0FBQTtFQUNBLDZCQUFBO0VBQ0EsMEJBQUE7RUFDQSxnQ0FBQTtFQUVBLGlCQUFBO0VBQ0Esa0JBQUE7QUFRRjs7QUFOQTtFQUNFLFdBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0FBU0YiLCJmaWxlIjoicGFnZS1wcm9maWwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuYm9keXttYXJnaW4tdG9wOjIwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjojZjJmNmZjO1xyXG4gIGNvbG9yOiM2OTcwN2E7XHJcbn1cclxuLmltZy1hY2NvdW50LXByb2ZpbGUge1xyXG4gIGhlaWdodDogMTByZW07XHJcbn1cclxuLnJvdW5kZWQtY2lyY2xlIHtcclxuICBib3JkZXItcmFkaXVzOiA1MCUgIWltcG9ydGFudDtcclxufVxyXG4uY2FyZCB7XHJcbiAgYm94LXNoYWRvdzogMCAwLjE1cmVtIDEuNzVyZW0gMCByZ2IoMzMgNDAgNTAgLyAxNSUpO1xyXG59XHJcbi5jYXJkIC5jYXJkLWhlYWRlciB7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBmb250LWZhbWlseTogTW9udHNlcnJhdCBib2xkICFpbXBvcnRhbnQ7XHJcbn1cclxuLmNhcmQtaGVhZGVyOmZpcnN0LWNoaWxkIHtcclxuICBib3JkZXItcmFkaXVzOiAwLjM1cmVtIDAuMzVyZW0gMCAwO1xyXG59XHJcbi5jYXJkLWhlYWRlciB7XHJcbiAgcGFkZGluZzogMXJlbSAxLjM1cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIzNCAyMzggMjQwKTtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgzMywgNDAsIDUwLCAwLjEyNSk7XHJcbn1cclxuLmZvcm0tY29udHJvbCwgLmRhdGFUYWJsZS1pbnB1dCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcGFkZGluZzogMC44NzVyZW0gMS4xMjVyZW07XHJcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuICBmb250LXdlaWdodDogNDAwO1xyXG4gIGxpbmUtaGVpZ2h0OiAxO1xyXG4gIGNvbG9yOiAjNjk3MDdhO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjYzVjY2Q2O1xyXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcclxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgYXBwZWFyYW5jZTogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiAwLjM1cmVtO1xyXG4gIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjE1cyBlYXNlLWluLW91dCwgYm94LXNoYWRvdyAwLjE1cyBlYXNlLWluLW91dDtcclxufVxyXG5cclxuLm5hdi1ib3JkZXJzIC5uYXYtbGluay5hY3RpdmUge1xyXG4gIGNvbG9yOiAjMDA2MWYyO1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICMwMDYxZjI7XHJcbn1cclxuLm5hdi1ib3JkZXJzIC5uYXYtbGluayB7XHJcbiAgY29sb3I6ICM2OTcwN2E7XHJcbiAgYm9yZGVyLWJvdHRvbS13aWR0aDogMC4xMjVyZW07XHJcbiAgYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcblxyXG4gIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG4gIG1hcmdpbi1yaWdodDogMXJlbTtcclxufVxyXG4uYnRuLXByaW1hcnkge1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM3MjhlOWI7XHJcbiAgYm9yZGVyLWNvbG9yOiAjNzI4ZTliO1xyXG59XHJcbiJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}